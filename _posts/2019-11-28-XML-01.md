---
layout: post
title: XML 使用一（为数据绑定解释的一种设计）
categories: XML
tags : XML
author: 彭浩
---

## 基础知识
（1）定义：不是显示数据，而是存储数据，并可以自定义标签  
（2）应用：不同系统之间传输数据，表示生活中有关系的数据，用在配置文件中  
（3）语法：

    1）XML的文档声明
      * 创建一个文件，后缀名为.xml
      * 文档声明 <?xml version="1.0" coding="utf-8"?>，放在第一行第一列，其包含几个属性，"version"，"coding"，"standalone"（是否需要依赖其他的文件值为yes或no）
      * xml中文乱码问题，xml默认保存在硬盘上的编码为gbk，而文档属性中coding设置的是执行xml时使用的编码utf-8，则会出现编码问题，此时需要换为一致
    
    2）xml元素的定义
      * 一个xml中，只能有一个根标签，其他标签都是该标签的子标签或者孙标签
      * 在xml中，把空格和换行都当做内容来解析
      * xml中的命名规则，xml区分大小写，不能以数字或者“_”开头，不能以xml（Xml、XML等关键词）开头作为前缀，不能包含空格，不能包含冒号

    3）xml中属性的定义
      * 一个标签上可以有多个属性，属性值可以用单引号或者双引号，属性名称不允许重复，属性名称同样遵循元素定义的规范
    
    4）xml中的注释
      * 注释实例<!-- --> 
      * 注释不能嵌套
    
    5）xml的特殊字符
      * 转义字符：&--->&amp; < --->&lt; > --->&gt; " --->&quot; ' --->&apos;

    6）xml的CDATA区
      * 可以解决多个字符都需要转义的操作，可以将内容放到CDATA区里面，就不需要进行转义了
      * 写法，<![CDATA[ 内容 ]]>

    7）PI指令（处理指令）
      * 可以在xml设置样式
      * 写法：<?xml-stylesheet type="text/css" href="xxx.css"?>
      * 对中文不起作用，一般不用

    8）xml的约束
      * dtd和schema的约束

## DTD（文档类型定义）约束
  （1）步骤：

      * 创建一个后缀名为.dtd的文件作为xml的约束文件
      * 查看xml中有多少个元素，在dtd文件中就写几个 <!ELEMENT>
      * 判断元素是简单元素还是复杂元素（有嵌套元素），针对复杂元素的写法：<!ELEMENT 元素名称 (子元素)>，针对简单元素写法：<!ELEMENT 元素名称 (#PCDATA)>
      * 需要在xml中引入dtd文件，写法：<!DOCTYPE 根元素的名称 SYSTEM "dtd文件路径">

  （2）xml引入dtd文件的三种方式

    * 引入外部的dtd文件，<!DOCTYPE 根元素名称 SYSTEM "dtd路径">
    * 引入内部的dtd文件，
    <!DOCTYPE 根元素名称 [
        <!ELEMENT person (name,age)>
        <!ELEMENT name (#PCDATA)>
        <!ELEMENT age (#PCDATA)>
        ]>
    * 使用外部的dtd文件（网络上的dtd文件），<!DOCTYPE 根元素名称 PUBLIC "dtd名称" "dtd文档的URL">
  
  （3）使用dtd定义xml元素

    * 语法：<!ELEMENT 元素名 约束>
    * 简单元素的约束：<!ELEMENT 元素名 (#PCDATA)>，其中#PCDATA)约束表示值字符串，还可以替换为EMPTY约束表示没有内容，ANY约束表示任意
    * 复杂元素的约束：<!ELEMENT 元素名 (子元素)>，子元素只能出现一次，使用“+”号、“?”号和“*”号表示子元素能够出现的次数，“+”号表示一次或者多次，“?”号表示零次或者一次，而“*”号表示任意次。而子元素之间的“,”号表示元素之间的顺序。如果之间采用“|”号，则表示只能出现其中任意一个元素

  （4）使用dtd定义xml属性

    * 语法：<!ATTLIST 元素名 属性名称 属性类型 属性的约束>其中属性名称可以有多个
    * 属性类型：CDATA类型表示字符串，枚举类型表示在一定范围内出现的值，但是每次仅出现一次，其写法 (aa|bb|cc)，ID类型表示只能字母或者下划线开头
    * 属性的约束，#REQUIRED约束表示一定要出现，#IMPLIED约束表示属性可有可无，#FIXED “AAA” 约束表示一个固定值，值为AAA。直接值约束直接在属性类型后面跟上一个值表示默认值，当有该显式的设置了属性值，则会是显式的值。