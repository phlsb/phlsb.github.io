---
layout: post
title: Spring 使用总结（一）
categories: Spring
tags : Spring
author: 彭浩
---

# Spring的XML配置相关

## IOC创建对象的三种方式
（1）通过无参构造器来实现  
（2）通过有参构造器来实现  
（3）通过工厂方法来创建（静态工厂和动态工厂）

## Spring配置
 (1) import标签---导入其他的配置文件

## Spring注入
   （1）构造器注入（见IOC的构造器创建对象）  
   （2）setter注入  
   （3）数组注入  
   （4）list注入  
   （5）map注入  
   （6）set注入  
   （7）null注入  
   （8）properties注入  
   （9）p 命名空间注入  
```java
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	   xmlns:p="http://www.springframework.org/schema/p"
	   xmlns:c="http://www.springframework.org/schema/c"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd">
	<bean id="address" class="com.ph4.vo.Address">
		<property name="address" value="湖南省"/>
	</bean>
	<bean id="student" class="com.ph4.vo.Student">
		<property name="name" value="张三丰"/>
		<property name="addr" ref="address"/>
		<property name="books">
			<array>
				<value>傲慢与偏见</value>
				<value>仲夏夜之梦</value>
				<value>天龙八部</value>
			</array>
		</property>
		<property name="hobbies">
			<list>
				<value>乒乓球</value>
				<value>篮球</value>
			</list>
		</property>
		<property name="cards">
			<map>
				<entry key="中国银行" value="1231213215556"/>
				<entry key="工商银行" value="2123131213132"/>
			</map>
		</property>
		<property name="games">
			<set>
				<value>lol</value>
				<value>炉石</value>
			</set>
		</property>
		<property name="wife"><null></null></property>
		<property name="info">
			<props>
				<prop key="学号">20152551</prop>
				<prop key="sex">男</prop>
				<prop key="name">小明</prop>
			</props>
		</property>
	</bean>
	<bean id="user" class="com.ph4.vo.User" p:name="风清扬" p:age="230"/>
	<bean id="u1" class="com.ph4.vo.User" c:name="nico" c:age="16"/>
</beans>
```
## bean 的作用域
   （1）singleton 单例，整个容器只有一个对象实例（默认）  
   （2）prototype 原型，每次获取bean的时候都产生一个新的对象  
   （3）request 请求，每次请求时创建一个新的对象  
   （4）session 会话，在会话的范围内是只创建对象  
   （5）global session，只在portlet下使用表示application  
   （6）application 应用，在应用范围内只有一个对象  

## Spring自动装配
   （1）byName，使用set方法的名称实现自动装配  
   （2）byType，使用set方法的参数类型实现自动装配，因为不用id进行标识，有时候不唯一，不推荐
  
